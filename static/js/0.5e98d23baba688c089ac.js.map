{"version":3,"sources":["webpack:///./node_modules/timers-browserify/main.js","webpack:///./src/assets/js/filter.js","webpack:///src/view/ask/form/imgUpLoad.vue","webpack:///./src/view/ask/form/imgUpLoad.vue?b844","webpack:///./src/view/ask/form/imgUpLoad.vue","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///src/view/ask/form/wcheckbox.vue","webpack:///./src/view/ask/form/wcheckbox.vue?b98a","webpack:///./src/view/ask/form/wcheckbox.vue","webpack:///src/view/ask/form/winput.vue","webpack:///./src/view/ask/form/winput.vue?5a5b","webpack:///./src/view/ask/form/winput.vue","webpack:///./src/view/ask/form/wtextarea.vue?80c2","webpack:///./src/view/ask/form/wtextarea.vue","webpack:///src/view/ask/form/wtextarea.vue","webpack:///src/view/ask/form/wDate.vue","webpack:///./src/view/ask/form/wDate.vue?fa45","webpack:///./src/view/ask/form/wDate.vue","webpack:///src/view/ask/form/wDateTime.vue","webpack:///./src/view/ask/form/wDateTime.vue?397c","webpack:///./src/view/ask/form/wDateTime.vue","webpack:///src/view/ask/ask.vue","webpack:///./src/view/ask/ask.vue?1ce8","webpack:///./src/view/ask/ask.vue"],"names":["global","scope","self","window","apply","Function","prototype","Timeout","id","clearFn","this","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","setImmediate","clearImmediate","padLeftZero","str","substr","length","__webpack_exports__","date","fmt","test","replace","RegExp","$1","getFullYear","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","imgUpLoad","data","imgList","file","fileList","imgurl","img64","created","methods","addImgH","e","imgPath","document","getElementById","imgInfo","name","files","size","type","src","getObjectURL","push","console","log","value","compression","addImg","click","upload","formdata","_this","Object","http","then","res","file_path","$emit","catch","err","mint_ui_common","message","position","duration","splice","del","index","parseInt","url","undefined","createObjectURL","URL","webkitURL","compress","img","width","height","ratio","canvas","createElement","getContext","drawImage","toDataURL","image","Image","last","setAttribute","that","onload","imgH","imgW","showSize","bytes","atob","split","array","i","charCodeAt","blob","Blob","Uint8Array","fd","FormData","append","Date","now","base64url","equalIndex","indexOf","substring","strLength","fileLength","toFixed","parseFloat","show","form_imgUpLoad","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","directives","rawName","movable","expression","images","_l","v","key","on","$event","_v","alt","title","_e","accept","change","staticRenderFns","Component","normalizeComponent","ssrContext","process","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","toString","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","documentElement","script","onreadystatechange","removeChild","appendChild","Math","random","source","slice","addEventListener","attachEvent","callback","args","Array","task","run","wcheckbox","props","computed","cpTitle","maxSelect","questionName","question_name","isRequire","is_require","maxSelection","max_selection","getCheckListValue","checkVal","answer","checkboxValue","firstIndex","secondIndex","form_wcheckbox","class","titlered","is_error","options","qmsj_option_list","max","model","$$v","$set","ask_form_wcheckbox","winput","labelTitle","validateQuestionValue","blankCheckType","blank_check_type","answerValue","inputValue","form_winput","attr","maxlength","label","placeholder","ask_form_winput","winput_normalizeComponent","form_wtextarea","rows","ask_form_wtextarea","wtextarea_normalizeComponent","wDate","pickerDate","startTime","showDate","$refs","picker","open","confirmDate","formatValue","filters","formatDate","filter","form_wDate","_s","_f","touchmove","preventDefault","year-format","month-format","date-format","closeOnClickModal","confirm","ask_form_wDate","wDate_normalizeComponent","wDateTime","pickerDateTime","dateTime","form_wDateTime","ask_form_wDateTime","wDateTime_normalizeComponent","ask","qmsjProjectInfo","attachment_list","popupVisible","listForm","coupyListForm","addlistFormArray","countArray","components","wtextarea","wdate","wdatetime","wUpload","getFileList","isShowXinze","max_repeat","handleCheckVal","allValue","selectVal","thirdIndex","thirdLayout","selectQuestion","showQuestionID","hideQuestionID","requireQuestionID","unRequireQuestionID","forEach","requireID","requireIndex","thirdId","qmsj_question_id","unrequireID","unrequireIndex","showID","showindex","hideID","hideIndex","isShow","questionShowType","_isShow","getProjectInfo","qmsj_project_id","asyncToGenerator_default","regenerator_default","a","mark","_callee","qmsj_module_list","wrap","_context","prev","next","sent","qmsj_project_info","qmsj_module_list_2","firstValue","secondValue","qmsj_question_list","thirdValue","textareaValue","JSON","parse","stringify_default","stop","addListForm","_this2","maxRepeat","copyListForm2","copyList","deleteListForm","listFirstValue","listFirstIndex","listSecondValue","listSecondIndex","previewQuestion","dataLength","questionList","isTrue","validateListForm","question_type","submitQuestion","_this3","_callee2","obj","_context2","project_title","main","location","reload","t0","questionType","scrollTopQuestion","listA","listAIndex","listB","listBIndex","listC","listCIndex","scrollTopHeight","querySelector","offsetTop","scrollTo","watch","$route","immediate","handler","params","newvs","oldvs","body","style","overflow","filterType","filterAnswer","answerCheckboxValue","answerCheckboxLength","qmsjOptionList","answerCheckText","x","y","join","ask_ask","module_title","question_show_type","is_show","tag","plain","getfilelist","lockScroll","answerFirstValue","answerFirstIndex","answerSecondValue","answerSecondIndex","answerThirdValue","answerThirdIndex","ask_Component","ask_normalizeComponent"],"mappings":"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","file":"static/js/0.5e98d23baba688c089ac.js","sourcesContent":["var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/timers-browserify/main.js\n// module id = 162o\n// module chunks = 0 1","export function formatDate(date, fmt) {\r\n  if (/(y+)/.test(fmt)) {\r\n    fmt = fmt.replace(\r\n      RegExp.$1,\r\n      (date.getFullYear() + \"\").substr(4 - RegExp.$1.length)\r\n    )\r\n  }\r\n  let o = {\r\n    \"M+\": date.getMonth() + 1,\r\n    \"d+\": date.getDate(),\r\n    \"h+\": date.getHours(),\r\n    \"m+\": date.getMinutes(),\r\n    \"s+\": date.getSeconds()\r\n  }\r\n  for (let k in o) {\r\n    if (new RegExp(`(${k})`).test(fmt)) {\r\n      let str = o[k] + \"\"\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? str : padLeftZero(str)\r\n      )\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\nfunction padLeftZero(str) {\r\n  return (\"00\" + str).substr(str.length)\r\n}\r\n\r\nexport function currency(v, c, d) {\r\n  v = parseFloat(v)\r\n  if (!isFinite(v) || (!v && v !== 0)) return \"\"\r\n  c = c != null ? c : \"￥\"\r\n  d = d != null ? d : 2\r\n  var digitsRE = /(\\d{3})(?=\\d)/g // \\d =[0~9],{3}匹配3次，\r\n  var stringified = Math.abs(v).toFixed(d) // 保留2位小数\r\n  var _int = d ? stringified.slice(0, -1 - d) : stringified // 取整\r\n  var i = _int.length % 3 // =>1\r\n  var head = i > 0 ? _int.slice(0, i) + (_int.length > 3 ? \",\" : \"\") : \"\" // 2,\r\n  var _float = d ? stringified.slice(-1 - d) : \"\" // .20\r\n  var sign = v < 0 ? \"-\" : \"\"\r\n  return sign + c + head + _int.slice(i).replace(digitsRE, \"$1,\") + _float\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/filter.js","<template>\r\n  <div class=\"upload\" id='main'>\r\n    <ul :images=\"imgList\" v-if=\"fileList.length !=0\" class=\"imgList\" v-viewer='{movable: false}'>\r\n      <li v-for=\"(v,k) in imgList\" :key=\"k\">\r\n        <div class=\"del\" @click=\"del(k)\">\r\n          <!-- <img src=\"@/assets/images/del.png\" alt=\"\"> -->\r\n        </div>\r\n        <img :src=\"v.src\" alt=\"\" :title=\"v.name+','+k\" @click=\"show(k)\" class=\"images\">\r\n      </li>\r\n      <!-- <li>\r\n        <img src=\"@/assets/images/upload_photo.png\" alt=\"\" @click=\"addImg\">\r\n      </li> -->\r\n    </ul>\r\n    <input type=\"file\" id=\"upload\" @change=\"addImgH()\" accept=\"image/png,image/gif,image/jpeg\" ref=\"avatarInput\">\r\n     <mt-button type=\"primary\" @click=\"addImg\">上传图片</mt-button>\r\n     <!-- <mt-button type=\"primary\" @click=\"compression\">测试按钮</mt-button> -->\r\n     <!-- <img :src=\"img64\" alt=\"\"> -->\r\n  </div>\r\n</template>   \r\n\r\n<script>\r\n  import { upload } from '@/api/http'\r\n  import { Toast } from 'mint-ui';\r\n  export default {\r\n    data(){\r\n      return {\r\n        imgList:[],\r\n        file:'',\r\n        fileList:[],\r\n        imgurl:'',\r\n        img64:'',\r\n      }\r\n    },\r\n    created(){\r\n      // new Viewer(image, {\r\n      //   toolbar: {\r\n      //     zoomIn: 4,\r\n      //     zoomOut: 4,\r\n      //     oneToOne: 4,\r\n      //     reset: 4,\r\n      //     prev: 4,\r\n      //     play: {\r\n      //       show: 4,\r\n      //       size: 'large',\r\n      //     },\r\n      //     next: 4,\r\n      //     rotateLeft: 4,\r\n      //     rotateRight: 4,\r\n      //     flipHorizontal: 4,\r\n      //     flipVertical: 4,\r\n      //   },\r\n      // });\r\n    },\r\n    methods:{\r\n      addImgH(e){\r\n        let imgPath = document.getElementById('upload')\r\n        let imgInfo = {}\r\n        let name = imgPath.files[0].name\r\n        let size = imgPath.files[0].size\r\n        let type = imgPath.files[0].type\r\n        let src = this.getObjectURL(imgPath.files[0])\r\n        imgInfo.name = name\r\n        imgInfo.size = size\r\n        imgInfo.type = type\r\n        imgInfo.src = src\r\n        this.imgList.push(imgInfo)\r\n        this.file = imgPath.files[0]\r\n        console.log(imgPath.files)\r\n        imgPath.value = ''\r\n        this.compression()\r\n      },\r\n      addImg(){\r\n        let imgPath = document.getElementById('upload')\r\n        imgPath.click()\r\n      },\r\n      upload(formdata){\r\n        console.log(this.file)\r\n        // let file = new FormData()\r\n        // file.append(\"file\",this.file)\r\n        // console.log(file.get(\"file\"))\r\n        const data = formdata\r\n        upload(data)\r\n        .then((res)=>{\r\n          console.log(res)\r\n          this.fileList.push(res)\r\n          this.imgurl = res.file_path\r\n          this.$emit('getfilelist', this.fileList)\r\n          console.log(this.fileList)\r\n        })\r\n        .catch((err)=>{\r\n          Toast({\r\n            message: err,\r\n            position: 'bottom',\r\n            duration: 5000\r\n          });\r\n          this.imgList.splice(-1,1)\r\n        })\r\n      },\r\n      del(index){\r\n        this.imgList.splice(parseInt(index),1)\r\n        this.fileList.splice(parseInt(index),1)\r\n        console.log(this.fileList)\r\n      },\r\n      // 获取图片预览\r\n      getObjectURL(file) {  \r\n\t      var url = null ;   \r\n\t      if (window.createObjectURL!=undefined) {  \r\n\t        url = window.createObjectURL(file) ;  \r\n\t      } else if (window.URL!=undefined) {   \r\n\t        url = window.URL.createObjectURL(file) ;  \r\n\t      } else if (window.webkitURL!=undefined) {  \r\n\t        url = window.webkitURL.createObjectURL(file) ;  \r\n\t      }  \r\n\t      return url ;  \r\n      },\r\n      // 图片压缩\r\n      compress(img, width, height, ratio) { // img可以是dataURL或者图片url\r\n        var canvas, ctx, img64;\r\n\r\n        canvas = document.createElement('canvas');\r\n        canvas.width = width;\r\n        canvas.height = height;\r\n\r\n        ctx = canvas.getContext(\"2d\");\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n\r\n        img64 = canvas.toDataURL(\"image/jpeg\", ratio);\r\n\r\n        return img64; // 压缩后的base64串\r\n      },\r\n      compression(){\r\n        let imgPath = document.getElementById('main')\r\n        var image = new Image();\r\n        let last = this.imgList.length\r\n        image.src = this.imgList[last-1].src\r\n        image.setAttribute(\"crossOrigin\",'Anonymous')\r\n        let that = this\r\n        image.onload = function(){\r\n          let imgH = this.height\r\n          let imgW = this.width\r\n          let img64 = that.compress(image, imgW, imgH, 0.3);\r\n          that.img64 = img64\r\n          console.log(that.showSize(img64))\r\n          // console.log(that.image64)\r\n          // base64转FormData\r\n          let bytes = window.atob(img64.split(',')[1])\r\n          let array=[]\r\n          for (let i = 0; i < bytes.length; i++){\r\n            array.push(bytes.charCodeAt(i))\r\n          }\r\n          let blob = new Blob([new Uint8Array(array)],{type: 'image/jpeg'})\r\n          let fd = new FormData()\r\n          fd.append('file',blob,Date.now()+'.jpg')\r\n          that.upload(fd);\r\n          // return img64\r\n        }\r\n      },\r\n      showSize(base64url){\r\n        //获取base64图片大小，返回MB数字\r\n        var str = base64url.replace('data:image/jpeg;base64,', '');\r\n        var equalIndex = str.indexOf('=');\r\n        if(str.indexOf('=')>0) {\r\n            str=str.substring(0, equalIndex);\r\n        }\r\n        var strLength=str.length;\r\n        var fileLength=parseInt(strLength-(strLength/8)*2);\r\n        console.log(fileLength)\r\n        // 由字节转换为MB\r\n        var size = \"\";\r\n        size = (fileLength/(1024 * 1024)).toFixed(2);\r\n        console.log(size)\r\n        return parseFloat(size);\r\n      },\r\n      show(k){\r\n        // const viewer = this.$el.querySelector('.images')[k].$viewer\r\n        // viewer.show()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .upload{\r\n    padding: 10px;\r\n    font-size: 16px;\r\n  }\r\n  #upload{\r\n    display: none\r\n  }\r\n  .imgList{\r\n    border: 1px #ddd solid;\r\n    padding: 5px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 20px;\r\n  }\r\n  li{\r\n    position: relative;\r\n    width: 21%;\r\n    margin: 0 2%;\r\n    font-size: 0;\r\n  }\r\n\r\n  .imgList>li>.del{\r\n    position: absolute;\r\n    width: 20px;\r\n    height: 20px;\r\n    background-image: url('../../../assets/images/del.png');\r\n    background-size: cover;\r\n    right: 0;\r\n    top: 3px;\r\n  }\r\n  \r\n  \r\n</style>\r\n\r\n<style>\r\n.viewer-zoom-in::before, .viewer-zoom-out::before, .viewer-one-to-one::before, .viewer-reset::before, .viewer-prev::before, .viewer-play::before, .viewer-next::before, .viewer-rotate-left::before, .viewer-rotate-right::before, .viewer-flip-horizontal::before, .viewer-flip-vertical::before, .viewer-fullscreen::before, .viewer-fullscreen-exit::before, .viewer-close::before{\r\n    background-size: cover !important;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/imgUpLoad.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"upload\",attrs:{\"id\":\"main\"}},[(_vm.fileList.length !=0)?_c('ul',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({movable: false}),expression:\"{movable: false}\"}],staticClass:\"imgList\",attrs:{\"images\":_vm.imgList}},_vm._l((_vm.imgList),function(v,k){return _c('li',{key:k},[_c('div',{staticClass:\"del\",on:{\"click\":function($event){_vm.del(k)}}}),_vm._v(\" \"),_c('img',{staticClass:\"images\",attrs:{\"src\":v.src,\"alt\":\"\",\"title\":v.name+','+k},on:{\"click\":function($event){_vm.show(k)}}})])})):_vm._e(),_vm._v(\" \"),_c('input',{ref:\"avatarInput\",attrs:{\"type\":\"file\",\"id\":\"upload\",\"accept\":\"image/png,image/gif,image/jpeg\"},on:{\"change\":function($event){_vm.addImgH()}}}),_vm._v(\" \"),_c('mt-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addImg}},[_vm._v(\"上传图片\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0537f8a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/imgUpLoad.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0537f8a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./imgUpLoad.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0537f8a8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./imgUpLoad.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./imgUpLoad.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./imgUpLoad.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0537f8a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./imgUpLoad.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0537f8a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/imgUpLoad.vue\n// module id = null\n// module chunks = ","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/setimmediate/setImmediate.js\n// module id = mypn\n// module chunks = 0 1","<template>\r\n<div class=\"wcheckbox\">\r\n  <div :class=\"{titlered:message.is_error == 1}\">\r\n    <mt-checklist :title=\"cpTitle\" v-model=\"message.answer.checkboxValue\" :options=\"message.qmsj_option_list\" :max=\"message.max_selection\" @change=\"getCheckListValue\">\r\n    </mt-checklist>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['message', 'index', 'firstIndex', 'secondIndex'],\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    cpTitle() {\r\n      let maxSelect = ''\r\n      let message = this.message\r\n      let questionName = message.question_name\r\n      let isRequire = message.is_require == 1 ? true : false\r\n      let maxSelection = message.max_selection\r\n      if (isRequire) {\r\n        questionName = '* ' + questionName\r\n      }\r\n      if (maxSelection > 1) {\r\n        maxSelect = '(最多选' + maxSelection + '个)'\r\n      }\r\n      let title = questionName + maxSelect\r\n      return title\r\n    }\r\n  },\r\n  methods: {\r\n    getCheckListValue(value) {\r\n      setTimeout(() => {\r\n        let checkVal = this.message.answer.checkboxValue\r\n        this.$emit('handleCheckVal', checkVal, this.firstIndex, this.secondIndex, this.index)\r\n      }, 100)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.wcheckbox {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n}\r\n</style><style>\r\n.wcheckbox .mint-checkbox-input:checked+.mint-checkbox-core {\r\n  background-color: #26a2ff !important;\r\n  border-color: #26a2ff !important;\r\n}\r\n\r\n.wcheckbox .mint-checkbox {\r\n  float: left;\r\n}\r\n\r\n.wcheckbox .mint-checkbox-label {\r\n  float: left;\r\n  display: block;\r\n  width: 285px;\r\n}\r\n\r\n.wcheckbox .titlered .mint-checklist-title {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/wcheckbox.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wcheckbox\"},[_c('div',{class:{titlered:_vm.message.is_error == 1}},[_c('mt-checklist',{attrs:{\"title\":_vm.cpTitle,\"options\":_vm.message.qmsj_option_list,\"max\":_vm.message.max_selection},on:{\"change\":_vm.getCheckListValue},model:{value:(_vm.message.answer.checkboxValue),callback:function ($$v) {_vm.$set(_vm.message.answer, \"checkboxValue\", $$v)},expression:\"message.answer.checkboxValue\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47f5ba9b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/wcheckbox.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47f5ba9b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./wcheckbox.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47f5ba9b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./wcheckbox.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wcheckbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wcheckbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47f5ba9b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./wcheckbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47f5ba9b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/wcheckbox.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"winput\">\r\n  <div :class=\"{titlered:message.is_error == 1}\">\r\n    <mt-field :attr=\"{maxlength:500}\" :label=\"labelTitle\" v-model=\"message.answer.inputValue\" placeholder=\"请输入\" @change=\"validateQuestionValue()\"></mt-field>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Toast\r\n} from 'mint-ui';\r\nexport default {\r\n  props: ['message', 'index', 'firstIndex', 'secondIndex'],\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    labelTitle() {\r\n      let message = this.message\r\n      let questionName = message.question_name\r\n      let isRequire = message.is_require == 1 ? true : false\r\n      if (isRequire) {\r\n        questionName = '* ' + questionName\r\n      }\r\n      return questionName\r\n    }\r\n  },\r\n  methods: {\r\n    validateQuestionValue() {\r\n      console.log(this.message)\r\n      // 1整数 2手机号 3身份证\r\n      let blankCheckType = this.message.blank_check_type\r\n      let answerValue = this.message.answer.inputValue\r\n      switch (blankCheckType) {\r\n        case '1':\r\n          if (!(/^[0-9]*$/).test(answerValue)) {\r\n            Toast(\"请输入整数\");\r\n          }\r\n          break;\r\n        case '2':\r\n          if (!(/^1[34578]\\d{9}$/.test(answerValue))) {\r\n            Toast(\"手机号码有误，请重填\");\r\n          }\r\n          break;\r\n        case '3':\r\n          if (!(/(^\\d{15}$)|(^\\d{17}([0-9]|X)$)/).test(answerValue)) {\r\n            Toast(\"身份证有误，请重填\");\r\n          }\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.winput {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n}\r\n</style><style>\r\n.winput .titlered .mint-cell-text {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/winput.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"winput\"},[_c('div',{class:{titlered:_vm.message.is_error == 1}},[_c('mt-field',{attrs:{\"attr\":{maxlength:500},\"label\":_vm.labelTitle,\"placeholder\":\"请输入\"},on:{\"change\":function($event){_vm.validateQuestionValue()}},model:{value:(_vm.message.answer.inputValue),callback:function ($$v) {_vm.$set(_vm.message.answer, \"inputValue\", $$v)},expression:\"message.answer.inputValue\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-121386aa\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/winput.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-121386aa\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./winput.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-121386aa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./winput.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./winput.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./winput.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-121386aa\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./winput.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-121386aa\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/winput.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wtextarea\"},[_c('div',{class:{titlered:_vm.message.is_error == 1}},[_c('mt-field',{attrs:{\"label\":_vm.labelTitle,\"type\":\"textarea\",\"rows\":\"4\",\"placeholder\":\"请输入\"},model:{value:(_vm.message.answer.textareaValue),callback:function ($$v) {_vm.$set(_vm.message.answer, \"textareaValue\", $$v)},expression:\"message.answer.textareaValue\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e58f654c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/wtextarea.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58f654c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./wtextarea.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e58f654c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./wtextarea.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wtextarea.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wtextarea.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e58f654c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./wtextarea.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e58f654c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/wtextarea.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"wtextarea\">\r\n  <div :class=\"{titlered:message.is_error == 1}\">\r\n    <mt-field :label=\"labelTitle\" v-model=\"message.answer.textareaValue\" type=\"textarea\" rows=\"4\" placeholder=\"请输入\"></mt-field>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['message', 'index', 'firstIndex', 'secondIndex'],\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    labelTitle() {\r\n      let message = this.message\r\n      let questionName = message.question_name\r\n      let isRequire = message.is_require == 1 ? true : false\r\n      if (isRequire) {\r\n        questionName = '* ' + questionName\r\n      }\r\n      return questionName\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.wtextarea {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n}\r\n</style><style>\r\n.wtextarea .titlered .mint-cell-text {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/wtextarea.vue","<template>\r\n<div class=\"timedate\">\r\n  <div class=\"title\" :class=\"{titlered:message.is_error == 1}\">{{cpTitle}}</div>\r\n  <div class=\"datelayout\">\r\n    <div>\r\n      <mt-button size=\"small\" @click=\"showDate()\">选择日期</mt-button>\r\n    </div>\r\n    <div class=\"datevalue\">{{startTime | formatDate}}</div>\r\n  </div>\r\n  <div class=\"pickerpop\" @touchmove.prevent>\r\n    <mt-datetime-picker class=\"datefff\" ref=\"picker\" v-model=\"pickerDate\" type=\"date\" year-format=\"{value} 年\" month-format=\"{value} 月\" date-format=\"{value} 日\" :closeOnClickModal=\"false\"  @confirm=\"confirmDate\">\r\n    </mt-datetime-picker>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  formatDate\r\n} from '@/assets/js/filter'\r\nexport default {\r\n  props: ['message', 'index', 'firstIndex', 'secondIndex'],\r\n  data() {\r\n    return {\r\n      pickerDate: '',\r\n      startTime:''\r\n    }\r\n  },\r\n  computed: {\r\n    cpTitle(){\r\n       let message = this.message\r\n      let questionName = message.question_name\r\n      let isRequire = message.is_require == 1 ? true : false\r\n      if (isRequire){\r\n        questionName='* ' + questionName\r\n      }\r\n      return questionName\r\n    }\r\n  },\r\n  methods: {\r\n    showDate() {\r\n      let answerDate = this.message.answer.date\r\n      if (answerDate == '') {\r\n        this.pickerDate = new Date()\r\n      }\r\n      this.$refs.picker.open();\r\n    },\r\n    confirmDate(){\r\n      this.message.answer.date = this.pickerDate\r\n      this.startTime = this.pickerDate\r\n    },\r\n    formatValue(v) {\r\n      if (v < 10) {\r\n        return '0' + v\r\n      } else {\r\n        return v\r\n      }\r\n    }\r\n  },\r\n  filters:{\r\n    formatDate(v){\r\n      if(v!=''){\r\n        return formatDate(v, 'yyyy-MM-dd')\r\n      }else{\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.timedate {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n  background-color: #fff;\r\n  padding: 10px;\r\n\r\n  .title {\r\n    font-size: 16px;\r\n    color: #333;\r\n    margin-bottom: 10px;\r\n  }\r\n  .titlered{\r\n    color: red;\r\n  }\r\n\r\n  .datelayout {\r\n    display: flex;\r\n    font-size: 0;\r\n    align-items: center;\r\n\r\n    >div {\r\n      flex: 1;\r\n    }\r\n\r\n    .datevalue {\r\n      font-size: 16px;\r\n      flex: 0 0 200px;\r\n    }\r\n  }\r\n}\r\n</style><style>\r\n.datefff {\r\n  background-color: #fff !important;\r\n  width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/wDate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timedate\"},[_c('div',{staticClass:\"title\",class:{titlered:_vm.message.is_error == 1}},[_vm._v(_vm._s(_vm.cpTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"datelayout\"},[_c('div',[_c('mt-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.showDate()}}},[_vm._v(\"选择日期\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"datevalue\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.startTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"pickerpop\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('mt-datetime-picker',{ref:\"picker\",staticClass:\"datefff\",attrs:{\"type\":\"date\",\"year-format\":\"{value} 年\",\"month-format\":\"{value} 月\",\"date-format\":\"{value} 日\",\"closeOnClickModal\":false},on:{\"confirm\":_vm.confirmDate},model:{value:(_vm.pickerDate),callback:function ($$v) {_vm.pickerDate=$$v},expression:\"pickerDate\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6af422c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/wDate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6af422c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./wDate.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6af422c0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./wDate.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wDate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wDate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6af422c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./wDate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6af422c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/wDate.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"timedate\">\r\n  <div class=\"title\" :class=\"{titlered:message.is_error == 1}\">{{cpTitle}}</div>\r\n  <div class=\"datelayout\">\r\n    <div>\r\n      <mt-button size=\"small\" @click=\"showDate()\">选择时间</mt-button>\r\n    </div>\r\n    <div class=\"datevalue\">{{startTime | formatDate}}</div>\r\n  </div>\r\n  <div class=\"pickerpop\" @touchmove.prevent>\r\n    <mt-datetime-picker class=\"datefff\" ref=\"picker\" v-model=\"pickerDateTime\" type=\"datetime\" @confirm=\"confirmDate\" :closeOnClickModal=\"false\">\r\n    </mt-datetime-picker>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  formatDate\r\n} from '@/assets/js/filter'\r\nexport default {\r\n  props: ['message', 'index', 'firstIndex', 'secondIndex'],\r\n  data() {\r\n    return {\r\n      pickerDateTime: '',\r\n      startTime: ''\r\n    }\r\n  },\r\n  computed: {\r\n    cpTitle() {\r\n      let message = this.message\r\n      let questionName = message.question_name\r\n      let isRequire = message.is_require == 1 ? true : false\r\n      if (isRequire) {\r\n        questionName = '* ' + questionName\r\n      }\r\n      return questionName\r\n    }\r\n  },\r\n  methods: {\r\n    showDate() {\r\n      let answerDate = this.message.answer.dateTime\r\n      if (answerDate == '') {\r\n        this.pickerDateTime = new Date()\r\n      }\r\n      this.$refs.picker.open();\r\n    },\r\n    confirmDate() {\r\n      this.message.answer.dateTime = this.pickerDateTime\r\n      this.startTime = this.pickerDateTime\r\n    },\r\n    formatValue(v) {\r\n      if (v < 10) {\r\n        return '0' + v\r\n      } else {\r\n        return v\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate(v) {\r\n      if (v != '') {\r\n        return formatDate(v, 'yyyy-MM-dd hh:mm')\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.timedate {\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  margin-bottom: 10px;\r\n  background-color: #fff;\r\n  padding: 10px;\r\n\r\n  .title {\r\n    font-size: 16px;\r\n    color: #333;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .titlered {\r\n    color: red;\r\n  }\r\n\r\n  .datelayout {\r\n    display: flex;\r\n    font-size: 0;\r\n    align-items: center;\r\n\r\n    >div {\r\n      flex: 1;\r\n    }\r\n\r\n    .datevalue {\r\n      font-size: 16px;\r\n      flex: 0 0 200px;\r\n    }\r\n  }\r\n}\r\n</style><style>\r\n.datefff {\r\n  background-color: #fff !important;\r\n  width: 100%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/form/wDateTime.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timedate\"},[_c('div',{staticClass:\"title\",class:{titlered:_vm.message.is_error == 1}},[_vm._v(_vm._s(_vm.cpTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"datelayout\"},[_c('div',[_c('mt-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.showDate()}}},[_vm._v(\"选择时间\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"datevalue\"},[_vm._v(_vm._s(_vm._f(\"formatDate\")(_vm.startTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"pickerpop\",on:{\"touchmove\":function($event){$event.preventDefault();}}},[_c('mt-datetime-picker',{ref:\"picker\",staticClass:\"datefff\",attrs:{\"type\":\"datetime\",\"closeOnClickModal\":false},on:{\"confirm\":_vm.confirmDate},model:{value:(_vm.pickerDateTime),callback:function ($$v) {_vm.pickerDateTime=$$v},expression:\"pickerDateTime\"}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ab60f880\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/form/wDateTime.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ab60f880\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./wDateTime.vue\")\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ab60f880\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./wDateTime.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wDateTime.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./wDateTime.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ab60f880\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./wDateTime.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ab60f880\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/form/wDateTime.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"askpage\">\r\n  <div v-for=\"(firstValue,firstIndex) in listForm\" :key=\"firstIndex\">\r\n    <div v-for=\"(secondValue,secondIndex) in firstValue\" :key=\"secondIndex\">\r\n      <div class=\"toptitle\">\r\n        <div class=\"title\">{{secondValue.module_title}}</div>\r\n        <div class=\"delete\">\r\n          <mt-button size=\"small\" class=\"ml10\" v-if=\"secondIndex!=0\" @click=\"deleteListForm(firstIndex,secondIndex)\">删除</mt-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"plr10\" :id=\"'parent'+firstIndex+secondIndex\">\r\n        <component v-for=\"(item,i) in secondValue.qmsj_question_list\" v-if=\"isShow(item.question_show_type,secondIndex,item.is_show)\" :key=\"i\" :message=\"item\" :index=\"i\" :firstIndex=\"firstIndex\" :secondIndex=\"secondIndex\" :is=\"item.question_type | filterType\" @handleCheckVal=\"handleCheckVal(arguments)\" :class=\"'child'+ i\"></component>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"xinzen\">\r\n      <mt-button type=\"primary\" class=\"ml10\" size=\"small\" plain @click=\"addListForm(firstValue,firstIndex)\" v-if=\"isShowXinze(firstValue)\">新增</mt-button>\r\n    </div>\r\n  </div>\r\n  <div class=\"uploadpic\">\r\n    <w-upload @getfilelist=\"getFileList\"></w-upload>\r\n  </div>\r\n\r\n  <div class=\"l-submit\">\r\n    <mt-button class=\"btn-submit\" type=\"primary\" @click=\"previewQuestion()\">预 览</mt-button>\r\n  </div>\r\n  <div class=\"popupviseble\">\r\n    <mt-popup v-model=\"popupVisible\" lockScroll=\"true\">\r\n      <div class=\"preview\">\r\n        <div class=\"glyphicon glyphicon-remove\" @click=\"popupVisible = false\"></div>\r\n        <div class=\"previewlayout\">\r\n          <div v-for=\"(answerFirstValue,answerFirstIndex) in listForm\" :key=\"answerFirstIndex\">\r\n            <div v-for=\"(answerSecondValue,answerSecondIndex) in answerFirstValue\" :key=\"answerSecondIndex\">\r\n              <dl class=\"question\" v-for=\"(answerThirdValue,answerThirdIndex) in answerSecondValue.qmsj_question_list\">\r\n                <dt>{{answerThirdValue.question_name}}</dt>\r\n                <dd>{{answerThirdValue | filterAnswer}}</dd>\r\n              </dl>\r\n            </div>\r\n          </div>\r\n          <div class=\"piclist\">\r\n            <h3 class=\"title\">附件</h3>\r\n            <ul>\r\n              <li v-for=\"(v,i) in attachment_list\"><img :src=\"v.file_path\" alt=\"\"></li>\r\n            </ul>\r\n          </div>\r\n          <mt-button class=\"btn-submit\" type=\"primary\" @click=\"submitQuestion()\">提 交</mt-button>\r\n        </div>\r\n      </div>\r\n    </mt-popup>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Toast,\r\n  Indicator\r\n} from 'mint-ui';\r\nimport {\r\n  formatDate\r\n} from '@/assets/js/filter'\r\nimport wcheckbox from './form/wcheckbox' // 多选框\r\nimport winput from './form/winput' // 单行文本框\r\nimport wtextarea from './form/wtextarea' // 多行文本框\r\nimport wdate from './form/wDate' // 日期天\r\nimport wdatetime from './form/wDateTime' // 日期天和时间\r\nimport wUpload from './form/imgUpLoad' // 图片上传\r\nimport {\r\n  getProjectInfo,\r\n  uploadRespondent\r\n} from '@/api/http'\r\nimport {\r\n  setTimeout\r\n} from 'timers';\r\nexport default {\r\n  data() {\r\n    return {\r\n      qmsjProjectInfo: '',\r\n      attachment_list: [], // 返回的图片地址\r\n      popupVisible: false,\r\n      listForm: [],\r\n      coupyListForm: [],\r\n      addlistFormArray: [], // 需要新增的模块\r\n      countArray: [] // 新增次数\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  components: {\r\n    wcheckbox,\r\n    winput,\r\n    wtextarea,\r\n    wdate,\r\n    wdatetime,\r\n    wUpload\r\n  },\r\n  methods: {\r\n    getFileList(v){\r\n      // 获取图片\r\n      // console.log(v)\r\n      this.attachment_list = v\r\n    },\r\n    isShowXinze(v) {\r\n      let maxRepeat = v[0].max_repeat\r\n      if (maxRepeat == 1) {\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    },\r\n    handleCheckVal(v) {\r\n      let allValue = Array.prototype.slice.call(v)\r\n      let selectVal = allValue[0]\r\n      let firstIndex = allValue[1]\r\n      let secondIndex = allValue[2]\r\n      let thirdIndex = allValue[3]\r\n      let thirdLayout = this.listForm[firstIndex][secondIndex]['qmsj_question_list']\r\n      let thirdList = thirdLayout[thirdIndex]\r\n      let qmsj_option_list = thirdList['qmsj_option_list']\r\n      let selectQuestion = qmsj_option_list.filter((v, i) => {\r\n        return v.value == selectVal\r\n      })\r\n      if (selectQuestion.length > 0) {\r\n        let showQuestionID = selectQuestion[0]['show_question_list'].split(',') // 需要显示的id\r\n        let hideQuestionID = selectQuestion[0]['hide_question_list'].split(',') // 不需要显示的ID\r\n        let requireQuestionID = selectQuestion[0]['require_question_list'].split(',') // 必填ID\r\n        let unRequireQuestionID = selectQuestion[0]['unrequire_question_list'].split(',') // 非必填ID\r\n\r\n        requireQuestionID.forEach((requireID, requireIndex) => {\r\n          thirdLayout.forEach((thirdId, thirdIndex) => {\r\n            if (requireID == thirdId.qmsj_question_id) {\r\n              thirdLayout[thirdIndex]['is_require'] = 1\r\n            }\r\n          })\r\n        })\r\n\r\n        unRequireQuestionID.forEach((unrequireID, unrequireIndex) => {\r\n          thirdLayout.forEach((thirdId, thirdIndex) => {\r\n            if (unrequireID == thirdId.qmsj_question_id) {\r\n              thirdLayout[thirdIndex]['is_require'] = 0\r\n            }\r\n          })\r\n        })\r\n\r\n        showQuestionID.forEach((showID, showindex) => {\r\n          thirdLayout.forEach((thirdId, thirdIndex) => {\r\n            if (showID == thirdId.qmsj_question_id) {\r\n              thirdLayout[thirdIndex]['is_show'] = 1\r\n            }\r\n          })\r\n        })\r\n\r\n        hideQuestionID.forEach((hideID, hideIndex) => {\r\n          thirdLayout.forEach((thirdId, thirdIndex) => {\r\n            if (hideID == thirdId.qmsj_question_id) {\r\n              thirdLayout[thirdIndex]['is_show'] = 0\r\n              thirdLayout[thirdIndex]['answer']['checkboxValue'] = []\r\n              thirdLayout[thirdIndex]['answer']['date'] = ''\r\n              thirdLayout[thirdIndex]['answer']['dateTime'] = ''\r\n              thirdLayout[thirdIndex]['answer']['inputValue'] = ''\r\n              thirdLayout[thirdIndex]['answer']['textareaValue'] = ''\r\n            }\r\n          })\r\n        })\r\n      }\r\n    },\r\n    isShow(questionShowType, index, isShow) {\r\n      // is_show: 0 不显示 1 显示\r\n      // question_show_type: 0 永远显示 1 表示仅主模块显示 2 表示仅子模块显示\r\n      if (isShow == 0) {\r\n        return false\r\n      } else {\r\n        if (questionShowType == 0) {\r\n          return true\r\n        } else if (questionShowType == 1) {\r\n          if (index > 0) {\r\n            return false\r\n          } else {\r\n            return true\r\n          }\r\n        } else if (questionShowType == 2) {\r\n          if (index > 0) {\r\n            return true\r\n          } else {\r\n            return false\r\n          }\r\n        }\r\n      }\r\n    },\r\n    async getProjectInfo(qmsj_project_id) {\r\n      const data = await getProjectInfo({\r\n        qmsj_project_id\r\n      })  \r\n      let qmsj_module_list = data.qmsj_project_info.qmsj_module_list_2\r\n      qmsj_module_list.forEach((firstValue, firstIndex) => {\r\n        firstValue.forEach((secondValue, secondIndex) => {\r\n          secondValue.qmsj_question_list.forEach((thirdValue, thirdIndex) => {\r\n            //  设置填写的值\r\n            thirdValue.answer = {\r\n              inputValue: '',\r\n              textareaValue: '',\r\n              checkboxValue: [],\r\n              date: '',\r\n              dateTime: ''\r\n            }\r\n          })\r\n        })\r\n      })\r\n      this.qmsjProjectInfo = data.qmsj_project_info\r\n      this.listForm = qmsj_module_list\r\n      this.coupyListForm = JSON.parse(JSON.stringify(this.listForm));\r\n    },\r\n    addListForm(value, index) {\r\n      // 新增\r\n      let maxRepeat = value[0].max_repeat\r\n      let copyListForm2 = JSON.parse(JSON.stringify(this.coupyListForm));\r\n\r\n      this.addlistFormArray[index] = {\r\n        copyList: copyListForm2[index][0]\r\n      }\r\n      let isUndefined = typeof this.countArray[index] == 'undefined'\r\n      if (isUndefined) {\r\n        this.countArray[index] = 2\r\n      }\r\n      if (this.countArray[index] > maxRepeat) {\r\n        Toast('不能新增了');\r\n        return\r\n      }\r\n      this.countArray[index] = this.countArray[index] + 1\r\n      this.addlistFormArray.forEach((firstValue, firstIndex) => {\r\n        if (firstIndex == index) {\r\n          this.listForm[index].push(firstValue.copyList)\r\n        }\r\n      })\r\n    },\r\n    deleteListForm(firstIndex, secondIndex) {\r\n      let isUndefined = typeof this.addlistFormArray[firstIndex] == 'undefined'\r\n      if (isUndefined) {\r\n        return\r\n      }\r\n      let listFormLength = this.addlistFormArray[firstIndex]['copyList']['qmsj_question_list'].length\r\n      if (this.countArray[firstIndex] == 2) {\r\n        return\r\n      }\r\n      this.countArray[firstIndex] = this.countArray[firstIndex] - 1\r\n      this.listForm.forEach((listFirstValue, listFirstIndex) => {\r\n        if (listFirstIndex == firstIndex) {\r\n          listFirstValue.forEach((listSecondValue, listSecondIndex) => {\r\n            if (listSecondIndex == secondIndex) {\r\n              listFirstValue.splice(listSecondIndex, 1)\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    previewQuestion() {\r\n      let self = this;\r\n      let data = self.listForm;\r\n      for (let firstIndex = 0, dataLength = data.length; firstIndex < dataLength; firstIndex++) {\r\n        let secondValue = data[firstIndex]\r\n        for (let secondIndex = 0; secondIndex < secondValue.length; secondIndex++) {\r\n          let thirdValue = secondValue[secondIndex]['qmsj_question_list']\r\n          for (let thirdIndex = 0; thirdIndex < thirdValue.length; thirdIndex++) {\r\n            let questionList = thirdValue[thirdIndex]\r\n            if (questionList.is_require == 1) {\r\n              console.log('需要验证')\r\n              let isTrue = self.validateListForm(questionList.question_type, questionList.answer, questionList.blank_check_type, firstIndex, secondIndex, thirdIndex)\r\n              console.log(isTrue)\r\n              if (!isTrue) {\r\n                return\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      self.popupVisible = true;\r\n    },\r\n    async submitQuestion() {\r\n      try {\r\n        let obj = {}\r\n        obj.qmsj_module_list_2 = this.listForm\r\n        obj.project_title = this.qmsjProjectInfo.project_title\r\n        obj.qmsj_project_id = this.qmsjProjectInfo.qmsj_project_id\r\n        const data = {\r\n          qmsj_project_info: obj,\r\n          attachment_list: this.attachment_list\r\n        }\r\n        this.popupVisible = false\r\n        Indicator.open('提交中...');\r\n        const res = await uploadRespondent(data)\r\n        Indicator.close();\r\n        Toast('提交成功')\r\n        setTimeout(()=>{\r\n          window.location.reload()\r\n        },3000)\r\n      } catch (err) {\r\n        Indicator.close();\r\n        Toast('提交失败,请重新提交')\r\n      }\r\n    },\r\n    validateListForm(questionType, answer, blankCheckType, firstIndex, secondIndex, thirdIndex) {\r\n      let self = this;\r\n      switch (questionType) {\r\n        case 1:\r\n          if (answer.checkboxValue.length == 0) {\r\n            Toast('* 为必填项，请填写完整');\r\n            self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n            return false\r\n          }\r\n          return true\r\n          break;\r\n        case 2:\r\n          if (answer.inputValue == '') {\r\n            Toast('* 为必填项，请填写完整');\r\n            self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n            return false\r\n          }\r\n          if (blankCheckType == 1) {\r\n            if (!(/^[0-9]*$/).test(answer.inputValue)) {\r\n              Toast(\"请输入整数\");\r\n              self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n              return false\r\n            }\r\n            return true\r\n          }\r\n          if (blankCheckType == 2) {\r\n            if (!(/^1[34578]\\d{9}$/.test(answer.inputValue))) {\r\n              Toast(\"手机号码有误，请重填\");\r\n              self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n              return false\r\n            }\r\n            return true;\r\n          }\r\n          if (blankCheckType == 3) {\r\n            if (!(/(^\\d{15}$)|(^\\d{17}([0-9]|X)$)/).test(answer.inputValue)) {\r\n              Toast(\"身份证有误，请重填\");\r\n              self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n              return false\r\n            }\r\n            return true\r\n          }\r\n          return true\r\n          break;\r\n        case 3:\r\n          if (answer.textareaValue == \"\") {\r\n            Toast('* 为必填项，请填写完整');\r\n            self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n            return false\r\n          }\r\n          return true\r\n          break;\r\n        case 4:\r\n          if (answer.date == \"\") {\r\n            Toast('* 为必填项，请填写完整');\r\n            self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n            return false\r\n          }\r\n          return true\r\n          break;\r\n        case 5:\r\n          if (answer.dateTime == \"\") {\r\n            Toast('* 为必填项，请填写完整');\r\n            self.scrollTopQuestion(firstIndex, secondIndex, thirdIndex)\r\n            return false\r\n          }\r\n          return true\r\n          break;\r\n      }\r\n    },\r\n    scrollTopQuestion(firstIndex, secondIndex, thirdIndex) {\r\n      this.listForm.forEach((listA, listAIndex) => {\r\n        listA.forEach((listB, listBIndex) => {\r\n          listB.qmsj_question_list.forEach((listC, listCIndex) => {\r\n            listC.is_error = 0\r\n          })\r\n        })\r\n      })\r\n      this.listForm[firstIndex][secondIndex].qmsj_question_list[thirdIndex]['is_error'] = 1\r\n      let scrollTopHeight = document.querySelector('#parent' + firstIndex + secondIndex + ' .child' + thirdIndex).offsetTop\r\n      window.scrollTo(0, scrollTopHeight)\r\n    }\r\n  },\r\n  watch: {\r\n    '$route': {\r\n      immediate: true, // 确认是否以当前的初始值执行handler的函数\r\n      handler() {\r\n        let id = this.$route.params.id\r\n        this.getProjectInfo(id)\r\n      }\r\n    },\r\n    popupVisible: function (newvs, oldvs) { //picker关闭没有回调函数，所以侦听该属性替代\r\n      if (newvs) {\r\n        document.body.style.position = 'fixed';\r\n        document.body.style.overflow = 'hidden';\r\n      } else {\r\n        document.body.style.position = 'relative';\r\n        document.body.style.overflow = 'auto';\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    filterType(v) {\r\n      if (v == 1) {\r\n        return 'wcheckbox'\r\n      } else if (v == 2) {\r\n        return 'winput'\r\n      } else if (v == 3) {\r\n        return 'wtextarea'\r\n      } else if (v == 4) {\r\n        return 'wdate'\r\n      } else if (v == 5) {\r\n        return 'wdatetime'\r\n      }\r\n    },\r\n    filterAnswer(v) {\r\n      if (v.question_type == 1) {\r\n        let answerCheckboxValue = v.answer.checkboxValue\r\n        let answerCheckboxLength = answerCheckboxValue.length\r\n        let qmsjOptionList = v.qmsj_option_list\r\n        let answerCheckText = []\r\n        if (answerCheckboxLength > 0) {\r\n          answerCheckboxValue.forEach((v, i) => {\r\n            qmsjOptionList.forEach((x, y) => {\r\n              if (v == x.value) {\r\n                answerCheckText.push(x.label)\r\n              }\r\n            })\r\n          })\r\n          return answerCheckText.join(' , ')\r\n        } else {\r\n          return ''\r\n        }\r\n        return 'Checkbox'\r\n      } else if (v.question_type == 2) {\r\n        return v.answer.inputValue\r\n      } else if (v.question_type == 3) {\r\n        return v.answer.textareaValue\r\n      } else if (v.question_type == 4) {\r\n        if (v.answer.date != '') {\r\n          return formatDate(v.answer.date, 'yyyy-MM-dd')\r\n        } else {\r\n          return ''\r\n        }\r\n      } else if (v.question_type == 5) {\r\n        if (v.answer.dateTime != '') {\r\n          return formatDate(v.answer.dateTime, 'yyyy-MM-dd hh:mm')\r\n        } else {\r\n          return ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.askpage {\r\n  background-color: #f9f9f9;\r\n\r\n  .plr10 {\r\n    padding: 0 10px;\r\n  }\r\n  .piclist{\r\n    .title{\r\n      font-size: 14px;\r\n      height: 24px;\r\n    }\r\n    li{\r\n      width: 60px;\r\n      height: 60px;\r\n      float: left;\r\n      margin:0 8px 8px 0;\r\n      img{\r\n        width: 60px;\r\n      height: 60px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .toptitle {\r\n    height: 40px;\r\n    font-size: 0;\r\n    background: #8ebbe9;\r\n    padding: 0 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 10px;\r\n\r\n    .title {\r\n      flex: 0 0 300px;\r\n      font-size: 18px;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .delete {\r\n      flex: 1;\r\n    }\r\n  }\r\n\r\n  .delete {\r\n    text-align: right;\r\n    font-size: 0;\r\n  }\r\n\r\n  .btn-submit {\r\n    display: block;\r\n    width: 100%;\r\n  }\r\n\r\n  .xinzen {\r\n    text-align: right;\r\n    padding: 10px;\r\n    font-size: 0;\r\n\r\n    .ml10 {\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n\r\n  .l-submit {\r\n    padding: 10px;\r\n  }\r\n\r\n  .preview {\r\n    width: 350px;\r\n    height: 510px;\r\n    background-color: #fff;\r\n    position: relative;\r\n    padding: 10px;\r\n\r\n    .glyphicon {\r\n      font-size: 20px;\r\n      position: absolute;\r\n      right: 0;\r\n      top: -25px;\r\n      color: #fff;\r\n    }\r\n\r\n    .previewlayout {\r\n      font-size: 14px;\r\n      height: 490px;\r\n      overflow-y: auto;\r\n      -webkit-overflow-scrolling: touch;\r\n\r\n      .question {\r\n        margin-bottom: 10px;\r\n\r\n        dt {\r\n          font-size: 14px;\r\n          color: #333;\r\n        }\r\n\r\n        dd {\r\n          font-size: 16px;\r\n          color: #388ff9;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style><style>\r\n.askpage .mint-field .mint-cell-title {\r\n  padding: 10px 0;\r\n}\r\n\r\n.askpage .mint-checklist-title {\r\n  font-size: 16px;\r\n  color: #333;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/ask/ask.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"askpage\"},[_vm._l((_vm.listForm),function(firstValue,firstIndex){return _c('div',{key:firstIndex},[_vm._l((firstValue),function(secondValue,secondIndex){return _c('div',{key:secondIndex},[_c('div',{staticClass:\"toptitle\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(secondValue.module_title))]),_vm._v(\" \"),_c('div',{staticClass:\"delete\"},[(secondIndex!=0)?_c('mt-button',{staticClass:\"ml10\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteListForm(firstIndex,secondIndex)}}},[_vm._v(\"删除\")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"plr10\",attrs:{\"id\":'parent'+firstIndex+secondIndex}},_vm._l((secondValue.qmsj_question_list),function(item,i){return (_vm.isShow(item.question_show_type,secondIndex,item.is_show))?_c(_vm._f(\"filterType\")(item.question_type),{key:i,tag:\"component\",class:'child'+ i,attrs:{\"message\":item,\"index\":i,\"firstIndex\":firstIndex,\"secondIndex\":secondIndex},on:{\"handleCheckVal\":function($event){_vm.handleCheckVal(arguments)}}}):_vm._e()}))])}),_vm._v(\" \"),_c('div',{staticClass:\"xinzen\"},[(_vm.isShowXinze(firstValue))?_c('mt-button',{staticClass:\"ml10\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":function($event){_vm.addListForm(firstValue,firstIndex)}}},[_vm._v(\"新增\")]):_vm._e()],1)],2)}),_vm._v(\" \"),_c('div',{staticClass:\"uploadpic\"},[_c('w-upload',{on:{\"getfilelist\":_vm.getFileList}})],1),_vm._v(\" \"),_c('div',{staticClass:\"l-submit\"},[_c('mt-button',{staticClass:\"btn-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.previewQuestion()}}},[_vm._v(\"预 览\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"popupviseble\"},[_c('mt-popup',{attrs:{\"lockScroll\":\"true\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('div',{staticClass:\"preview\"},[_c('div',{staticClass:\"glyphicon glyphicon-remove\",on:{\"click\":function($event){_vm.popupVisible = false}}}),_vm._v(\" \"),_c('div',{staticClass:\"previewlayout\"},[_vm._l((_vm.listForm),function(answerFirstValue,answerFirstIndex){return _c('div',{key:answerFirstIndex},_vm._l((answerFirstValue),function(answerSecondValue,answerSecondIndex){return _c('div',{key:answerSecondIndex},_vm._l((answerSecondValue.qmsj_question_list),function(answerThirdValue,answerThirdIndex){return _c('dl',{staticClass:\"question\"},[_c('dt',[_vm._v(_vm._s(answerThirdValue.question_name))]),_vm._v(\" \"),_c('dd',[_vm._v(_vm._s(_vm._f(\"filterAnswer\")(answerThirdValue)))])])}))}))}),_vm._v(\" \"),_c('div',{staticClass:\"piclist\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"附件\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.attachment_list),function(v,i){return _c('li',[_c('img',{attrs:{\"src\":v.file_path,\"alt\":\"\"}})])}))]),_vm._v(\" \"),_c('mt-button',{staticClass:\"btn-submit\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitQuestion()}}},[_vm._v(\"提 交\")])],2)])])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a5fffd42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/ask/ask.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5fffd42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ask.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a5fffd42\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./ask.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ask.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ask.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a5fffd42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ask.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a5fffd42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/ask/ask.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}